(function(a){a.fn.archivesCW=function(b){if(!b||typeof(b)=="object"){var b=a.extend({},a.fn.archivesCW.defaults,b)}return this.each(function(){new $archivesCW(a(this),b)})};$archivesCW=function(d,j){var g=d.find(".calendar-navigation");var b=g.find(".menu");var f=parseInt(b.find("a.current").attr("rel"));var c=b.find("li").length;if(c<=1){g.find(".arrow-down").hide()}e();h();g.find(".prev-year").on("click",function(k){k.preventDefault();if(a(this).is(".disabled")){return}i(f+1,j)});g.find(".next-year").on("click",function(k){k.preventDefault();if(a(this).is(".disabled")){return}i(f-1,j)});g.find(".arrow-down").on("click",function(){if(a.isFunction(j.showDropdown)){j.showDropdown(b)}});b.mouseleave(function(){var k=a(this);a(this).data("timer",setTimeout(function(){if(a.isFunction(j.hideDropdown)){j.hideDropdown(k)}},300))}).mouseenter(function(){if(a(this).data("timer")){clearTimeout(a(this).data("timer"))}});b.find("a").on("click",function(l){l.preventDefault();if(a(this).is(".selected")){return}a(this).removeClass("selected");var k=parseInt(a(this).attr("rel"));i(k,j);if(a.isFunction(j.hideDropdown)){j.hideDropdown(b)}});function h(){if(f==c-1){d.find(".prev-year").addClass("disabled")}else{d.find(".prev-year").removeClass("disabled")}if(f==0){d.find(".next-year").addClass("disabled")}else{d.find(".next-year").removeClass("disabled")}}function i(n,l){var m=f;if(n<m){if(a.isFunction(l.goNext)){l.goNext(d,m,n)}else{a.fn.archivesCW.defaults.goNext(d,m,n)}}else{if(a.isFunction(l.goPrev)){l.goPrev(d,m,n)}else{a.fn.archivesCW.defaults.goPrev(d,m,n)}}f=n;var k=d.find(".menu a[rel="+f+"]");d.find("a.title").attr("href",k.attr("href")).html(k.html());h();e()}function e(){b.find("a.selected, a[rel="+f+"]").toggleClass("selected");var k=b.find("a.selected").parent();b.css("top",-k.index()*parseInt(g.outerHeight()))}};a.fn.archivesCW.defaults={goNext:function(c,d,b){c.find(".year").css({"margin-left":"-100%",opacity:1});c.find(".year[rel="+d+"]").css({"margin-left":0,"z-index":2}).animate({opacity:0.5},300);c.find(".year[rel="+b+"]").css({"z-index":3}).animate({"margin-left":0})},goPrev:function(c,d,b){c.find(".year:not(.last)").css({"margin-left":"-100%",opacity:1});c.find(".year[rel="+b+"]").css({"margin-left":0,opacity:0.3,"z-index":2}).animate({opacity:1},300);c.find(".year[rel="+d+"]").css({"margin-left":0,"z-index":3}).animate({"margin-left":"-100%"})},showDropdown:function(b){b.show()},hideDropdown:function(b){b.hide()}}})(jQuery);